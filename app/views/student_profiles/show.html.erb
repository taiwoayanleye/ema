<div class="site-content">
  <p id="notice"><%= notice %></p>

  <% if @student_profile.nil? %>
    Empty profile!
    <%= link_to 'Profile', edit_student_profile_path(@student_profile) %>
  <% else %>
  <!-- top card -->
  <div class="top-card">
    <div class="row"> 
      <div class="large-12 small-12 columns">

        <div class="panel">

          <div class="row">
            
            <!-- image -->
            <% if @student_profile.image_url.empty? %>
            <% else %>
            <div class="large-4 small-4 columns">
              <div class="profile_image">
                <%= image_tag @student_profile.image_url(:thumb) %>
              </div>
            </div>
            <% end %>
            
            <% if (@student_profile.first_name.empty? && @student_profile.last_name.empty?) %>
            <% else %> 
            <div class="large-8 small-8 columns">
              <div class = 'profile_overview'>
                <!-- Name -->
                <div class='intern_name'>
                  <div class="row">
                     <div class="large-12 small-12 columns">
                      <p><%= @student_profile.first_name %> <%= @student_profile.last_name %></p>
                     </div>
                  </div>
                </div>
                <% end %>
                
                <!-- Education/University -->
                <% if (@student_profile.school.empty? && @student_profile.major.empty?) %>
                <% else %>
                <div class='education'>
                  <div class="row">
                    <div class="large-12 small-12 columns">
                      <i class="fa fa-university"></i>
                      <p><%= @student_profile.school %> <%='|'%> <%= @student_profile.major %></p>
                    </div>
                   </div>
                 </div>
                 <% end %>
                
                <% if (@student_profile.school_year.empty? && @student_profile.expected_graduation.empty?) %>
                <% else %>
                <!-- School Year % Graduation-->
                <div class='year_graduation'>
                  <div class="row">
                    <div class="large-12 small-12 columns">
                        <i class="fa fa-graduation-cap"></i>
                        <p><%= @student_profile.school_year %> <%= '-' %> <%= @student_profile.expected_graduation %></p>
                    </div>
                  </div>
                </div>
                <% end %>

              </div>
            </div>

          </div>

        </div>
      </div>
    </div>  
  </div>
 

  <!-- bottom card -->
  <div class="bottom-card">
    <div class="row"> 
      <div class="large-12 small-12 columns">
        <div class="panel">
          
          <!-- bio_header -->
          <% if @student_profile.first_name.empty? %>
          <% else %>
          <div class="row">
            <div class="large-12 small-12 columns">
              <div class="bio">
                <div class="bio_header">
                  <h3><%= @student_profile.first_name %>&acute;<%="s"%> <%= 'Bio' %></h3>
                </div>
              </div>
            </div>
          </div>
          <br>
          <% end %>
          

          <!-- brief -->
          <% if !@student_profile.brief_summary.empty? %>
          <% else %>
          <div class="row">
            <div class="large-12 small-12 columns">
              <div class = "brief">
                <!-- brief_title -->
                <div class ="brief_title">
                  <p>BRIEF SUMMARY</p>
                </div>
                <!-- brief_content -->
                <div class="brief_content">
                  <%= @student_profile.brief_summary %>
                </div>
              </div>
            </div>
          </div>
          <% end %>
          
          <!-- experience -->

          <div class="row">
            <div class="large-12 small-12 columns">
              <div class = "experience">
                <!-- child1: experience_title -->
                <div class ="experience_title">
                  <p>EXPERIENCE</p>
                </div>
                <!-- child2: experience_content -->
                <% if @student_profile.stu_work_experiences.empty? %>
                  <p>No work experiences have been added yet!</p>
                  <%= link_to 'Add experience', edit_stu_work_experience_path(@stu_work_experiences) %>
                <% else %>
                  <div class="experience_content">
                    <div id="intern_experience">
                    <% @work_histories.each do |work_history| %>
                    <!-- subheader: position | company | date -->
                      <div class ="large-12 small-12 columns">
                        <!-- experience_subheader -->
                        <div class = 'experience_subheader'>
                          <!-- experience_position -->
                          <i class="fa fa-briefcase"></i>
                          <span class = 'experience_position'><a><%= work_history.position %></a></span>
                          <%= '|' %>
                          <!-- experience_company -->
                          <i class="fa fa-users"></i>
                          <span class = 'experience_company'><a><%= work_history.company %></a></span>
                          <%= '|' %>
                          <!-- experience_date -->
                          <i class="fa fa-calendar"></i>
                          <span class = 'experience_date'><a><%= work_history.start_date %> | <%= work_history.end_date %></a></span>
                        </div>
                      </div>
                      <!-- experience_description -->
                      <div class = 'experience_description'>
                        <p><%= work_history.description %></p>
                      </div>
                      <div class = "exp_space"></div>
                      <% end %>
                    </div>
                  </div>
                  <% end %>
              </div>
            </div><hr>
          </div>

          <!-- skills | interest | certification -->
          <div class="row">
            
            <!-- skills -->
            <div class="large-4 small-12 columns">
              <div class="skills">
                <!-- skills_title -->
                <div class="skills_title">
                  <p>Skills</p>
                </div>
                <!-- skills_content -->
                <div class="skills_content">
                  <% if current_user.id == @student_profile.user_id.to_i %>
                    <% @skills.each do |skill| %>
                      <a role="button" class= "button tiny disabled"><%= skill.description %></a>
                    <% end %>
                  <% end %>
                </div>
              </div>
            </div>
          
            <!-- interest -->
            <div class="large-4 small-12 columns">
              <div class="interest">
                <!-- interest_title -->
                <div class="interest_title">
                  <p>Interest</p>
                </div>
                
                <!-- interest_content -->
                <div class="interest_content">
                  <% if current_user.id == @student_profile.user_id.to_i %>
                    <% @skills.each do |skill| %>
                      <a role="button" class= "button tiny disabled"><%= skill.description %></a>
                    <% end %>
                  <% end %>
                </div>
              </div>
            </div>

            <!-- certification -->
            <div class="large-4 small-12 columns">
              <div class="certification">
                <!-- certification_title -->
                <div class="certification_title">
                  <p>Certification</p>
                </div>
                <!-- certification_content -->
                <div class="certification_content">
                  <% if current_user.id == @student_profile.user_id.to_i %>
                    <% @skills.each do |skill| %>
                      <a role="button" class= "button tiny disabled"><%= @student_profile.last_completed_degree %></a>
                    <% end %>
                  <% end %>
                </div>
              </div>
            </div><hr>
          </div>

          <!-- reference -->
          <div class="row"> 
            <div class="large-12 small-12 columns">
              <div class="Reference">
                <p>Reference</p>
                <% if current_user.id == @student_profile.user_id.to_i %>
                  <% @references.each do |reference| %>
                    <p><%= reference.name %></p>
                    <p><%= reference.relationship %></p>
                    <p><%= reference.phone %></p>
                    <p><%= mail_to reference.email %></p>
                  <% end %>
                <% end %>
              </div>
            </div>
          </div>

          <!-- personal -->
          <div class="row">
            <div class="large-12 small-12 columns">
              <div class="personal">
                <!-- certification_title -->
                <div class="personal_title">
                  <p>Certification</p>
                </div>
                <!-- certification_content -->
                <div class="personal_content">
                  <% if current_user.id == @student_profile.user_id.to_i %>
                    <p><%= @student_profile.user.email %></p>
                    <p>Residential address: <%= @student_profile.residential_address %></p>
                  <% end %>
                </div>
              </div>
            </div>
          </div>
        </div> 
      </div>
    </div> 
  </div>
</div> 
<% end %>